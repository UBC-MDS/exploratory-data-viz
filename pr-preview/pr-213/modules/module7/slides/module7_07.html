<!DOCTYPE html>
<html lang="en"><head>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-f428fda71a3abb5b1b9c21151da8fd61.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <title>Data Visualization – Sharing Altair Visualization</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #383a42;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #383a42; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #50a14f; } /* Annotation */
    code span.at { color: #a626a4; } /* Attribute */
    code span.bn { color: #986801; } /* BaseN */
    code span.bu { color: #a626a4; } /* BuiltIn */
    code span.cf { color: #a626a4; } /* ControlFlow */
    code span.ch { color: #50a14f; } /* Char */
    code span.cn { color: #986801; } /* Constant */
    code span.co { color: #a0a1a7; font-style: italic; } /* Comment */
    code span.cv { color: #e45649; font-style: italic; } /* CommentVar */
    code span.do { color: #e45649; } /* Documentation */
    code span.dt { color: #a626a4; } /* DataType */
    code span.dv { color: #986801; } /* DecVal */
    code span.er { color: #f44747; text-decoration: underline; } /* Error */
    code span.ex { color: #4078f2; font-weight: bold; } /* Extension */
    code span.fl { color: #986801; } /* Float */
    code span.fu { color: #4078f2; } /* Function */
    code span.im { color: #50a14f; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #a626a4; } /* Keyword */
    code span.op { color: #a626a4; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #a626a4; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #0184bc; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #50a14f; } /* String */
    code span.va { color: #e45649; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto-9aa1f031b1c808017ea64bfc94f7e2f6.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-notes="<p>In this module we will learn how we can share our visualizations with others, both online and offline.</p>" class="quarto-title-block center">
  <h1 class="title">Sharing Altair Visualization</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="charts-are-easily-saved-as-html-files" class="slide level2">
<h2>Charts are easily saved as HTML files</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-2"><a aria-hidden="true" tabindex="-1"></a><span class="im">from</span> vega_datasets <span class="im">import</span> data</span>
<span id="cb1-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a aria-hidden="true" tabindex="-1"></a>cars <span class="op">=</span> data.cars.url</span>
<span id="cb1-5"><a aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(cars).mark_circle().encode(</span>
<span id="cb1-6"><a aria-hidden="true" tabindex="-1"></a>    alt.X(<span class="st">'Horsepower:Q'</span>),</span>
<span id="cb1-7"><a aria-hidden="true" tabindex="-1"></a>    alt.Y(<span class="st">'Miles_per_Gallon:Q'</span>))</span>
<span id="cb1-8"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a aria-hidden="true" tabindex="-1"></a>chart.save(<span class="st">'cars-scatterplot.html'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>The easiest way to save Altair charts is as an HTML document via the <code>save</code> method. That is what we demonstrate here in this slide.</p>
<p>An HTML file then can either be incorporated in a web page or sent to anyone via email. When someone opens an HTML file containing an Altair chart in a web browser they will see the visualization, including any interactivity you have used!</p>
<p>This is all you need to know for sharing your visualizations to be viewed on a computer with others outside of Jupyter, but read on for more technical details about how this works and how you can save to other formats than HTML.</p>
<p>Other formats than HTML can be important when you want to share the visualization on a paper medium as opposed to in a digital environment.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-are-altair-visualization-rendered" class="slide level2">
<h2>How are Altair visualization rendered?</h2>
<ul>
<li>Altair does not create images to represent charts</li>
<li>Instead if create Vega-Lite code</li>
<li>Your browser knows how to render Vega-Lite code as graphics</li>
</ul>
<aside class="notes">
<p>It might surprise you that it is easier to save as an HTML document than an image file in PNG or JPG format. After all, plots are images aren’t they?</p>
<p>To understand this, let’s look into how Altair visualizations are constructed.</p>
<p>In the beginning we mentioned that Altair uses the JavaScript library Vega-Lite to generate its visualizations. This is great because we get access to many interactive features that build on web technologies such as JavaScript and HTML, and our visualizations can easily be incorporated in online contexts.</p>
<p>This also means that what Altair does under the hood is not to generate an image of the visualization, but the Vega-Lite code required to construct the chart.</p>
<p>This is similar to how graphical elements work on webpages. All the buttons, banners, etc that you see when you go to a web page are not images but HTML code that your browser can convert into a graphical elements such as buttons.</p>
<p>Vega-Lite code is rendered in a similar way. Modern browsers know how to draw graphical elements from the Vega-Lite code, so we never need to create any images.</p>
<p>So what does this Vega-Lite code look like?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-vega-lite-json-specification-for-charts" class="slide level2">
<h2>The Vega-Lite JSON specification for charts</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(chart.to_json())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"config"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"view"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-4"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"continuousHeight"</span><span class="fu">:</span> <span class="dv">300</span><span class="fu">,</span></span>
<span id="cb3-5"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"continuousWidth"</span><span class="fu">:</span> <span class="dv">400</span></span>
<span id="cb3-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb3-7"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb3-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"data"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-9"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"url"</span><span class="fu">:</span> <span class="st">"https://vega.github.io/vega-datasets/data/cars.json"</span></span>
<span id="cb3-10"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb3-11"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"encoding"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-12"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"x"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-13"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"field"</span><span class="fu">:</span> <span class="st">"Horsepower"</span><span class="fu">,</span></span>
<span id="cb3-14"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"quantitative"</span></span>
<span id="cb3-15"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb3-16"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"y"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-17"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"field"</span><span class="fu">:</span> <span class="st">"Miles_per_Gallon"</span><span class="fu">,</span></span>
<span id="cb3-18"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"quantitative"</span></span>
<span id="cb3-19"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb3-20"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb3-21"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"mark"</span><span class="fu">:</span> <span class="st">"circle"</span></span>
<span id="cb3-22"><a aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><a href="https://vega.github.io/editor/#/url/vega-lite/N4IgJAzgxgFgpgWwIYgFwhgF0wBwqgegIDc4BzJAOjIEtMYBXAI0poHsDp5kTykBaADZ04JACyUAHJQCMlAFYQ2AOxAAaEFBUAzGmTShiNOAHcDmlZhrKGbBhAAScPVjQBmAAweNW5VZt2EADqNAAm9GhiXgC+0RqhSJgoqKAMAE6CaBjYeIS8FNR0jCzs+QIJSRBwmBAEFUgEUEhpEApKqnEgcMpaodb6KSAAHua6cIKhWQ5sLXA4bCZwaeogmACeOHBZAI4MSH50iTSkIJ1ro8YTWQCyNIJwEAD6m2mPAOJIgoIqK+ubO3sDkkrCdYhpkGkANZZKA0NJQe6nIA">Open the Chart in the Vega Editor</a></p>
<aside class="notes">
<p>Instead of creating a new programming language to store its code, Vega-Lite uses the established JSON file format.</p>
<p>JSON is already widely used on the web as a storage format for text data, so this approach means that Vega-Lite does not need to reinvent the wheel. Instead, there are rules for which words are allows to appear in the JSON file for it to be valid Vega-Lite code, which is referred to as the “specification” (or “spec” for short).</p>
<p>You can see an example of how this looks for an Altair visualization by using the <code>to_json</code> method as we have done in this slide.</p>
<p>You can see that the words are the same we use in Altair, but the format of the JSON specification is a bit more verbose than the Altair syntax.</p>
<p>You can paste this JSON directly into Vega-Lite online editor and you will see that it renders correctly. We included a link for this in the slide that you can try.</p>
<p>You can also click the three dot action button and select the “Open in Vega Editor” entry to achieve the same result, try it out!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-json-spec-is-part-of-the-saves-html-file" class="slide level2">
<h2>The JSON spec is part of the saves HTML file</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">.error</span> {</span>
<span id="cb4-6"><a aria-hidden="true" tabindex="-1"></a>        <span class="kw">color</span><span class="ch">:</span> <span class="cn">red</span><span class="op">;</span></span>
<span id="cb4-7"><a aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb4-9"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">"text/javascript"</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://cdn.jsdelivr.net/npm//vega@5"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-10"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">"text/javascript"</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-11"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">"text/javascript"</span><span class="ot"> src</span><span class="op">=</span><span class="st">"https://cdn.jsdelivr.net/npm//vega-embed@6"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-12"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-13"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-14"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"vis"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-15"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-16"><a aria-hidden="true" tabindex="-1"></a>    (<span class="kw">function</span>(vegaEmbed) {</span>
<span id="cb4-17"><a aria-hidden="true" tabindex="-1"></a>      <span class="kw">var</span> spec <span class="op">=</span> {<span class="st">"config"</span><span class="op">:</span> {<span class="st">"view"</span><span class="op">:</span> {<span class="st">"continuousWidth"</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span> <span class="st">"continuousHeight"</span><span class="op">:</span> <span class="dv">300</span>}}<span class="op">,</span> <span class="st">"data"</span><span class="op">:</span> {<span class="st">"url"</span><span class="op">:</span> <span class="st">"https://vega.github.io/vega-datasets/data/cars.json"</span>}<span class="op">,</span> <span class="st">"mark"</span><span class="op">:</span> <span class="st">"circle"</span><span class="op">,</span> <span class="st">"encoding"</span><span class="op">:</span> {<span class="st">"x"</span><span class="op">:</span> {<span class="st">"type"</span><span class="op">:</span> <span class="st">"quantitative"</span><span class="op">,</span> <span class="st">"field"</span><span class="op">:</span> <span class="st">"Horsepower"</span>}<span class="op">,</span> <span class="st">"y"</span><span class="op">:</span> {<span class="st">"type"</span><span class="op">:</span> <span class="st">"quantitative"</span><span class="op">,</span> <span class="st">"field"</span><span class="op">:</span> <span class="st">"Miles_per_Gallon"</span>}}<span class="op">,</span> <span class="st">"$schema"</span><span class="op">:</span> <span class="st">"https://vega.github.io/schema/vega-lite/v4.8.1.json"</span>}<span class="op">;</span></span>
<span id="cb4-18"><a aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>If you look at the HTML file we saved in the previous step you will see that the JSON spec from the previous slide is included as you can see in this slide.</p>
<p>Also included is some additional code that tells your browser to use Vega-Lite’s web libraries to render this JSON spec.</p>
<p>We cut the HTML off here to fit it on the slide, but if you open the file you will see that there is also a section on how to emit error messages.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="charts-can-be-rendered-offline" class="slide level2">
<h2>Charts can be rendered offline</h2>
<ul>
<li><a href="https://altair-viz.github.io/user_guide/display_frontends.html#displaying-in-jupyterlab">Link to install the offline Vega-Lite extension in JupyterLab</a></li>
<li>Code to include a fallback image representation of your chart for offline rendering:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a>alt.renderers.enable(<span class="st">"mimetype"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>This does not change how your chart appears, it only includes a an image-representation of the chart which is saved as a string of characters in the notebook.</li>
</ul>
<aside class="notes">
<p>Given that displaying the JSON spec correctly depends on a the Vega-Lite web libraries, our charts will only render if we have an internet connection.</p>
<p>If you are working offline and want to render charts in JupyterLab, there are a few different options.</p>
<p>If you want interactive chart elements to work, you need to install a JupyterLab extension that downloads the the Vega-Lite rendering library to your machine. <a href="https://altair-viz.github.io/user_guide/display_frontends.html#displaying-in-jupyterlab">The steps for installing this extension are outlined in the Altair documentation</a></p>
<p>If you are happy with seeing a static version of your charts when you are offline, you could instruct Altair to use the Vega-Lite libraries only if there is an active internet connection and otherwise use and image for the plot.</p>
<p>To do this, you can include the code from this slide on top of your notebook, just after your import statements. This will not cause any changes to the appearance of your chart.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-if-we-want-to-save-our-charts-as-images-instead" class="slide level2">
<h2>What if we want to save our charts as images instead?</h2>
<ul>
<li>The three dots action button can be used to save charts as PNG or SVG manually.</li>
<li>Charts can also be saved programmatically via the same syntax as before, e.g.&nbsp;<code>chart.save('my-chart.pdf')</code></li>
</ul>
<aside class="notes">
<p>If we want to save a chart as a PNG or SVG file we can use the three dot action button as we saw in the very first module of this course. When we are clicking the “Save as PNG” entry in this menu, the browser converts the Vega-Lite spec into a PNG image that is downloaded to our computer.</p>
<p>If we want to save charts programmatically as either PNG, SVG, or PDF we need to use a helper package called <code>vl-convert</code>. This package let’s Altair access the save functionality of the browser in a similar way as when you click the thee dot action button.</p>
<p><a href="https://altair-viz.github.io/user_guide/saving_charts.html#png-svg-and-pdf-format">More details on how to save charts and install vl-convert can be found in the Altair documentation</a>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-the-difference-between-saving-in-different-formats" class="slide level2">
<h2>What is the difference between saving in different formats?</h2>
<ul>
<li>PNG is a bitmap/raster format
<ul>
<li>Use to store data in a fixed grid of pixels</li>
<li>Good for photos and complex illustrations</li>
<li>Zooming in causes the image to become blurry/pixelated</li>
<li>The file size depends on the number of pixels</li>
</ul></li>
<li>SVG and PDF are a scalable graphics / vector formats
<ul>
<li>Stores data as text with mathematical formulas</li>
<li>Good for simpler illustration</li>
<li>Zooming in retains perfect quality</li>
<li>The file size depends on the number of objects and their complexity</li>
</ul></li>
</ul>
<aside class="notes">
<p>In additional to saving as PNG, we could also have saved as SVG or PDF by changing the file extension accordingly.</p>
<p>What is the difference between these two options?<br><br> <strong>PNG is a bitmap/raster format</strong><br> - Stores data in a grid of pixels of different colors<br> - Zooming in causes the image to become blurry/pixelated<br> - The file size depends on the number of pixels<br> - Often ideal for photos and complex illustrations<br><br> <strong>SVG and PDF are scalable graphics / vector formats</strong><br> - Stores data as text by describing objects with mathematical formulas<br> - Zooming in retains perfect quality<br> - The file size depends on the number of objects and their complexity<br> - Often ideal for simpler illustration such as most charts<br><br> Saving as HTML has similar advantages and disadvantages as SVG.<br> In fact HTML uses SVG for creating the graphics.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="working-with-large-datasets" class="slide level2">
<h2>Working with large datasets</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(chart.to_json())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"config"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"view"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-4"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"continuousHeight"</span><span class="fu">:</span> <span class="dv">300</span><span class="fu">,</span></span>
<span id="cb7-5"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"continuousWidth"</span><span class="fu">:</span> <span class="dv">400</span></span>
<span id="cb7-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb7-7"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb7-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"data"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-9"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"url"</span><span class="fu">:</span> <span class="st">"https://vega.github.io/vega-datasets/data/cars.json"</span></span>
<span id="cb7-10"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb7-11"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"encoding"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-12"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"x"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-13"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"field"</span><span class="fu">:</span> <span class="st">"Horsepower"</span><span class="fu">,</span></span>
<span id="cb7-14"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"quantitative"</span></span>
<span id="cb7-15"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb7-16"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"y"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-17"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"field"</span><span class="fu">:</span> <span class="st">"Miles_per_Gallon"</span><span class="fu">,</span></span>
<span id="cb7-18"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"quantitative"</span></span>
<span id="cb7-19"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb7-20"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb7-21"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">"mark"</span><span class="fu">:</span> <span class="st">"circle"</span></span>
<span id="cb7-22"><a aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><a href="https://vega.github.io/editor/#/url/vega-lite/N4Igxg9gdgZglgcxALlANzgUwO4tJKAFzigFcJSBnAdTgBNCALFAFgAY2AacaYsiygAlMiRoRQBmDgF9p3OgENCCvCCgKAtphQhFygLQw2AJhYBWNgoBGANgCMLAJyW7EmxLN2A7ArZ3nLHY2xh4gciAaCgBOANY6YHBRYAA22tyYUJB0JEioIAAeqoQAngAO2sggAI6kCkRwysRoaSDwmMl0OoIQUZSYpRDYmFFh3MVFZRXVtfWNcM0g3G0dOgCycKmUAPrlUVsA4grJydBh4QAklGCMmJE6YoSllMgA9C-NCAoAdAgNjKRWL5wCAvK43SLvTCffTJBqYd4sL4ADi+di+ACtKKd5EoFH1CJRVHoFIYTOZLLYHM4FK53J4fH4AkEQmYUABtUAAOU0U2umDQUQgqUIAAI+c1jpgRZFYVZSIsQOtNjthgcjicoCg7EjuABhYqwqB0YaE5A6kAAETglFKyQUYFuGXEyCkXm43V6-UGwy1Um41BECDEWxIW2SVlNHjYLG4AEEwA7UlElMDNcg7MZuABNTDRHT+LxsfR+Yt2AAqHGQlY4CoA8lFECQdABVADKsdGXJ5OjlcDAMRFlBiBuiA4kxjYCqVmG2uzVx1O6bMeoNJGNvRQ5qtNrtDq0REkFndPT6AyGI3TNmXIADokIIagYYjkhsjgkcYT7WGKcXdjR15zPNKgLIsSz8Cs2CrSCa24etGzTEA2w7OQuy0HRbWKDQKCYQclHaWFCBaadZ1VQ4FzTbUV0NddTS3a1bXtR0DxdSiQA9U9vQvOwjxvQNg1DcNIxYNwP0Tb9iF-Oxs1zC8QBA0tSwgqCoLrBtfgQpDOxAbk0MqTQwBFKJMCsdpB0ocRuGIlU9jIjUtRsKi1xNTduG3Bi9ydSRo2PT0zx9JcuF4u8HyfISJHfEB4zE5MJIozMQEA2T5LA8tq2gydYLUptKk0lDtO7SoYB6OgRUIHoSAgKcNhnaz5zs9M3RAfVqOcs1XPo3cmOdKR4vYr1zy1dh-T4+8BOfF0WCcUSvxi1MtTYL4AJk-NHELBTwLSlTMvglt2y0nSpiKqISs+O18iwEULAyxVqpImz1V-a9mqcjc2stDrGP3Z0WGMRwfI4gb00cc1byDUbH0E1gJECaakx-CjAsSla1pSpS0tUnacr2vKDviG4BSFTBRTgDRSiOFRLNu2rbN-GMmtXI1WrondPs85BzDpvq-IvYwJ2G4KxtNYSzDpqKZvhlA-oS5bgNW0C7EUzaYJAOD1N25DOFQqYMKw0gcJgUgomKEU4FNqrlTnGmKLp57Gde5n3K61ghrYk9+v84xuP5sGQsh9mJAzWHxLms1FukoC5Ll9bUvSraVayjTsc1-LdJAAZ6ntMVcUNCmbot0iHutxy7do9qWY85jzGvLnOJQXnr1B-iIfGybjGvMW4di+bw6SqPUaV67VeyxCk61nR9JFTQrDxSgFDoHoRToW1zZqy3C61J6GZolz3vLp2XWcf73a4w+gp9wXJCRHiO+DxcUSWiPkoVjbY+VofE41sfKgSQhBQyRfKD6E9iKMmxw8QrzunVRcZBjjF23uzMujsvq+gijXQGf4G4jV9uNKQp8b6zV-F4MO0tH592fjHZSb8E46AAKKGwgOUfaBVwD40FMKMU+N8JSgIJAQ2lARQAApKDYAAJQQOpuvZAMDkhwKZogzqyCXQ8TQf5IImCBbNyFg4eK+CJbpn-D3ZG8tFav0HtQrGn8U6HWKqVcqUAICCOEWIym+d7rkRQNI2R9t5Gs2Yh4KSrtfK1yXBFRu4NQqsDYNDIOBCKIBKRrLFG5C0bpQxmrCxTDU462wowXChFjhwkcaI8Ra93FSNILA+mLVvG7yQWzCQSJUFu25lqLw6jz6aNYEEBykVPydxDnYBaD9e5JJMZQsxmMR6WNxnpDQBkjImWSGZUUQjikuNXgXMpniqkvVLrUhR9SbCBRUVxNp3sm4RJdFfQKuiu76MMYk4xL9xlpOHrlZOMzdAQDoAgbhjB1QZF+VEQcREqalPql7HZJcd5uQOX4xpR8WkNUCmE7BkYzDuBiXowZDzI6jOeejba6SpmZO1skTCOSRQAHIwCkEUCKaG10rLgtpl4vZsLfHdRdic+yKKsEXxdEcqWtyQ7mgSXip5FDCXx0me8r+rQbEaCoMoKACARRWAgJQfhPUSmbPqts228CHZwu6iYRFwSHB8o0Zc8KZgIoirvrip+YzpXv3VqSvG-I2FE2lLwbh0QTi6rcRCze1T2UfQrt9Dg5r0E8VRQKiQXh7BYruY4Yh4rnUEtSUSt5o8rE9lIH2AcM5GhSmwAoBA0AinOLzhs4NrKoVGp8ZG1gZhq7NOCfXc54S-ZSCRD0h1CMnVkJddmmVxK5X5sqGVYoEBlBih6NABQ0pRwmzgEGqBaZTBstYM2-ef4mlBMBo4dpFy-YhC8Dovpt8KLDKMdHFJcc3WVAAFIKDJpqHGzDsl61yXQZVPp1mQKtnXeKhrWo9I5S2oG5oeXIBPd2tFddGn2uvbEje6aZYSofQPV5H8PWzIMowHoUAiYbpA+mc04HXqQYjfuxwUs4OrUQwK4wXgvCizQ9iswmHSH4qlWO59JKv2pyOiVSIzQGz9nI5Iz2O7kC0b3ooicxyO2AyvixzpyA25IkaoO+yw7+OPqobKvNny9CUFIFAEByRPBMrBXqxcbH5N0yg-vZjgSAb+SRCDflWnPZ+l6dFbFiI72PJw6YvDOg30foIyANAQoYjCIrf-A9dhF7tFIPkKUfRFCaiAxIspxgenUaFnuxRHm4MsB6fGrT2oPAppDhOXjIzJXGYmcSuhgpGEie1pgUgvy52XWjDJorobdm7v2ZyrUOLPPH03I1WrlziuXsa4Qlr97+6RZzQhLrDDtC9fHnSuAIpBlsBFMkQkBWWVbptlvVqrm6OKMGY1JjVqOnLeEjcrjdyHAbfC1tl5O3aH0J6x85hs9rAigY6C1xm667jehQgqb0HBmczU-5BDZ8z3jQve3H7AyiFhew4D115iQB7bB-KqwGhsAihU8YUb9VisufK2zDMAS4MHs08tkInHgu-eMP9knyTcPA8qJTg74PU4TwQEZDQhomdOYCaVlAim6nMX8IxjHF5T5LfPTYFg5p9NLkM21sX47c3TOYWJkUMA272bhxR2bqu3pucUW4VTR6PaQv1y3ew+OBcDLphmkdWan3k8nZ88UxswATiV0OxtciUf71dDGj20bsc9pbomgdBPHpm4i0Dy3+HDuVHnj8qUdAVMJ5m-J4102WKwZ13XWbfuhYNKvUH38EhheZoExH0z1vU6MBOxmDgnRruObTFLV3DfoNSHR97k+oS-OXJYF4cca2KL30L6TwTkezPMIs1Zmzdna-acaq7x7Sm2aVZb2aXz1rz2uG+9362ffVrkNHYP4lMW6hxbijeqigfDLohDKzMrT7Ias4p7PbcoP565r7nrFb87iy-Y8bE4Fjf7h4mYTpH6pwzpzrLqQCCjqAX5twwHu7s6uDp666nrZ6mi8zGDG755FwkIjLYED64HDz-6frS7WLHQgIkBlTkGI7wI34a7OjAy0EeIVIyJZ5IbabRh57v5ahSyh5eCcHtZRYZJl7xaJbJa-LWaWa7DqqYBEypCnbeAX4Gr3avQSEmqSyvYP5G485+wFgsGqFKGGZaEW5CaS5xay7y6K5T71oUSz52Gmjq6OHaZb5zZIpnZuG47uCoH9I94+FF5k5D5xY-o4Szz5IETcLKoQAaAX5BDybRGN5drxEWpsD0GKHQwSDCqsEYaYFf6ZEH7ZF6FAGEyijihcIrqyjyihHw4NQVFs7MQO4yHpiZ7t6SDjjNFeHcSf6aEdG-5W5xa25lQNj2LDaO51qjH+DjGwFsxTE1HqZP4fa9o9Tb6tEZH77rGl78HjxzIrrKDzwjAjHO5UaRFq4THOghC9QP6JEKEJrMGeFoEDIYH3Gi7bYl7urdGsK9EmykzkxlF3ZhowpPb1LKLAlXhJFCwTiLGQm-jxQaG+FwlCZR7fq8BwCZxgDZwkDLpWCCgDb-KlFfGSIOD17-GRJe5eanL1ECqTSG63H6IrEUnF5Un4ECEnTkznRShXTok8knF+KeDTHcSr7P4tzcSpE3q+gSlrHcFPHyq5G5IGxGxrrrqcllLclJ41JUF+KsRc5xpIEtxsCOAqEkkUQRTklGkdYbF6EV6-K+rqCQDVplFga-Fu7YnwqHoClahIjvY45CwnqB7ekzaGkPHGkInPGFQ2K8JECWmUA1CJBSirI1qQFhG+gqmOlRr8nzbIoEmsAcZelpFxQwk-45m6F5lpy0mZyzwwDRAnYVllERRz68nsyZ5c5nKglaaeAuwm6BzsHIySlZF4HD5TATzEZRCkaig2g9DKAap6wRk2kQo-GYkKaTk6Yalt5umMGeld4Znpi95tGrHZkBkmlTosJerImgGnm1rAayZRmXkOGN6WrTGrZzmfZsAQntlqGdk4Gfm5mmn9kGTwALKJCT6AWFYQoRGXmVHQZnFc6zH3mSDMFPnwWm4rmJJrmdEbmbGKrKp1BIBnm-gXkTZXmqkAm4nL6biXEpmSCuDElUV-Zvl0WPEoXflaBJCGyx7voNj04cD7FAVFbjnRlgWo68zTH9rNnaa8xv7Pl2l+kfk6HCa9n7ZLL+AQEObVnaYcVI6aX7rlHnGY7JkMGt4hBinGVYZYH+lmUBF6HlADaYBDaL4X6BbX6TleDa58XICFh6UTgcbeVpriX+Xi4U6g5S7yrwBKCnamBWARWBRRXcX8WQU1ZkVKH4lBZGWhaIVcHIUS5ZVxaEHzokFCh2j5U2VO6SIByUGxnOiaHTHVVzENSb4pX1XaEZW8FxYn7Wbj4qW4WLgNb2llalXxVAlxWvh6VBA0E1WiViq+XtGmXTXvoAF6EJbJBJblpGG+rGhWV-jkFX4aWTn35bXuWKH1Z6noZAyTV+Hk6BW9lmlihSYxBkZsVbolYvXrWOCc4P4JXQXuFplinNZpUnXwk9nyqtXEGLrqAij-LHRlSlDkEYmcVOXPZ7VMZCn+ZsZwX6lLgrHGDpUY0gAzVBnfIhmQDJCigE0MAMKiH9W37MSrTEJwZJmJUZhtn03eCGZM3o3Smbk6CXXXUpbWYlDlAMrkHqWgWvXOFxUiyJVtzfV6IhCM3M3+HNWIm-nsKgHkHFXQ11mDQNlIqIHamMHsB00-X+Bm3y2H6K35mCGlDCEOJRBWbWDYTkEq4O0DVajaWuUXi6WI2468xS1e02A+2wlSl+2AFInsIkygK5xVmHHa2cXz6p68UJmXjU3r5sbG2C6y3m3Z1BVoVZzKA5zKmrVYlC31kamzmjXCQab7XS1klHWXqN1dFA3kq6z6xyVWllFiHJ6O1N4amulu1dIrVLmvkN2+0T05U2KnQKAKl7Ed0TnrX+Ir1alXE6m-TeW+mj1y2Z3rmBm9kTxTwzxzwLxaoWQ4U3atK1kx0ujeTx0bwfUJo2BQVLkGI0V4oP1dmNXmXyoyW0qWmRBRCllXY-1QH3Kd0xnd2sA33ANKECUeXszuCoZLHxL33j0MV6G9j9gXYzjWBGRijFEcmYN2V7Wn1L1Rgr3V1+zkiUXS1b3QMFiwNIVmXUmpxCh0CUBYRWDVQZbc3Lo+aGQQDFBHCw4HHO4gWl2Tk8OENBCgNaaTQYq30Z1wMSMyl4xGyUBJgiikbYADBRCiiCjqPJBjn-14NTnO0Wqu1X1Cw-SCNe1C5vliMNWWP+0RAKAABe9KUQ+QxgC6pAjCENCFODEUS9CNTGi2lVIQgWm95j4jp1sWehE8kQ7xC8o5qT1FXDADi+K9RjNqSIjgQT2KIT29j99Fz98qPR7C-RkoC6mQFAvQAFRdzuJdSOZdHubAetldr+el7A0hQ9XtIeVDO9NDvZtucudQtiOxDiVT7DxdnjkhXkm1czLs-dv0ddAyPSGhYTU1LNkjZKFKv6eS+EhStK5kJRoztlhxpNkzejzpwJq9-jkS7G3lqzfG9z-1u935l1CWp25g5ZTiZRDl4hk5HOt58Uo1v04UELhT4TGVgN8qythh-8gQ6WBzYzwFgtJz6YcmhDSaiVngASS5h1UL1Dw8xL35wVg2ooFgLAPzPVRWUdOt614+OlOTa92mq0Il0tqVHTFjRLltvZRk6gFSooGYQrWjsmUNYrS9npw1UsOL2ocrXt7LIy0LlJANKre9gdwd2rqlzOOjjlGLcdYtFV0rIQWOS5tzaznTklmN35c1l0gyjrS1W6aLD2ut0xLThtPm3ljUdznLCEbNvZhBesONpBy6qDA4ps4bv9sRtLMRErhDHmOLFgqdIWBLDzQmab8qwZ3CQoKyKL1TzBxbjeSzYtjTL+opyz3GirRTjzVj06ajRBC6bCnVhj52VLvzFGzmOD5Nd+szjZCbSdjBIJvrNbMLf+Z1fB1Oha9DDoRAs9UYHjODUzOJPj6CfdlVgQmem9hmEgKbUlnyZTuIHxJ90Zl7fiQDLpPbOC4DrTv2UDGhz76z3T35vTPqMocAco57tTXj+jXO5gelTRa7j7Ijq04HAb3ZCD35WzyYatdilU1TdpiHdLNxBjiaCz0YwHweKxOHSrw7kTjbE70APqnzZUbD1LtpC9DpdTQLcV3EAHkY7GemLR9LjHL7QbnySDs9qD6D6qrJQYmgkZxzMRP0sVczSz-dJ69Hkk0nEHX50eudnHClfY3CdoWqfYCH37k57A17qiILgl7M1W1zpJT7Mn+Hnytu3N2FvHEKEzTaZ96pBjZgxDihwkmK-bv2d9fGTHQ7CtORU9lKFpxs2zxhmAeWX7l5P73UQnczLnJDP0NHsXDHb5iXhLLHOdNjdjDjIos6sQwwynFAqnPHc7XJwXi9ADk0TnPMvud7m+6ZollDCX3nTzBaRaIoX4YAv8YBbcLDXzHXwrEKLrIXS9Vc0x1RenYXkDXnxnr7zCr9Gg08WqH9wKLJbX7JdneXejRyvdfDOCSIDL+3WHm+E3I7acqXrzaARwdJB4ZHUbNG15FBBjdRaHmL5Xv46dlXn3kT0Hoo9if3S33HZRernFhF+8xFwJpF0r44Xgnt2KFryMVXtbTdL9rxO5e5qLxxS9gJGpePoLMrqH0PFEfr43h3snNuiqCgkmRatPODWPymFdq7kXCaJgrLknQQRnuH8Dk3lQwN-65kgGhz873XIP4rXbCBT3D5QDvrB3cvETcWpLN1-8JhLXJkFhmjTrTmGPrrMNK7SK1WO1J6hlVFDLYH3n3Lpn1tPq+daJZHoruj61jnDTCzDGEnSxkLIyZPO7kHvnBZFARZ4wZH63PXXjYfBj4DEfbAVbgusvzHyXQVP3OEXH3zlmcoUQhVZHGv4aSHD3BjCN-dV4HnPphvRfFP8q0jsjEA8jlhGA5kxBod1oqvgXnnF7ejovCR4t67zsDG3l7T73cf1rsLb7rxcutwIRavXJwPUR15cRJFondchPZrA7y-8PLVY7bVw5ZBbb9t+rADb1lda7OLbGZ-v26ho9K-Wdky9bUHZnEAlCELqdcRWHbVHPATipQUcW7AKXksQVYX8uePnY-EoEszWZ7Ai1QtnHRKpL1BkzeOKo4Dpg4tE0H-G5oXyS7k5-+cnQ+nE3yASBBeruDJgAyyYIFj+2mDMG3wNJw8kBVAnnvayICkcd+tpfCmTTdZnNV2uvOuAHHd7S1d8iAo3hlQV4RBhgyDeSqUEUpoAbAkdOngA24jtphOMzRKhvgM5sEveSApQblU1amBBwTjPohQBSZCDmc9vdFjDXwGV0-GrnFOiN2lrQl5BnfSZD72YSI9QyhELOFEBOCDh56GnRvMh2BKs9+6sFEwTWT8EUC1+NJDOAZEy4lR1BcAQoGR2cEZ86WWfODOAQWa00xSCAswQoJq56FLB+VJEOQREEO8l6NgNwY2Smhz9KMOfNnmoXIHVcLa3WbKt+UsoroiAIA1bk5n+YuDcBLlODLey9bcQie6BPoeTwCG2tvyCgY7Kdg4CXY7a4A5ykvncEBIK2L3CFh31SGdZ1hnyeFg4gcAsBcwZRJodMN0EMsucy5HFv2iWFQkVh8fXbFcOPwc0q80QPoqwyiGT8z6hXRsiJzQ5NFSBkkc4f0K77flIcVgaHI4FSAk19hz2V4cCTvJesbAjfJcjH1J7e9-hBBa-jm1XRmx7+OgrxtxB6Rc446HwwwT0JfI-DV+u7EphZQ6C99++UoEosALKLB8AWoXfromTYFuA+2b3Kof4I2amlS+f6ADJ8UcFOYH+mPDFtrwIGSCWIZqVkTLzfIsBL+tQ3nvz2kxtthR8CYXqcWnIP5tkHw2ckuSTaj1DR5gr7tuRIzg0VR4RWkXSwZ7g82Bv0PwN5Q54jIXR1Q4vr2WCHI9xhOrPjj6JiI48DBEo8KPn0JyGYwxsohPigIJCn4rAnsTAVgz6qLtoq2nRst0NGr+Br40vL-nxgzEXCeCe7RivwJEJtsCh9hMQTpQDHmA4BRlWHumKNHpsKR7HMBF1QLF2U4iOA5gXDS2raj6sqY5XP2J4GNiraBMG2oKLbb8c1quAyAZXXmHM8jaSQsYu9zrGIi0hqcYIf00sKwc5QYoazpQFs75D4xVRafrUQlGE8exolJ0bWIHHyp32FTZUeP3Z5PiiKEXW8hKPcCHjWIGhE8asLlE8sFRbzApKEL6AskcgDA6MlaMmJg8SK2otwHtS3YGifxBHfekR12YVR0e0QhfLqJQ5sDAgMMPUcSMSQwTfhR3VOHQwHDHtCAs9ZIFlioAFssGnDezqKPD6dDqsC-BiSsWYkcisxqcNju1T3Ko9vms7CYWwQo4xEA4bQhIsVyi7mAo+RlYRtBKImJ9BCmXMibsWUmxiIUUwwoepOolxDaJ7gL4TD0XHhikR6-AyOUwu78SOG1kgTkhz-bAtaJbcPSaJV8GGTXRkTTYdkDtwQA8hXouuE8OjauCdKl9TwZ7DhHs9JJpIwYSbwMJm9rMigSgDcAAmgCnBWItmDFWGpStme-gGLkuTCnOjsp+2OLCMMiBjDyCbYrcU-yd7BJCeiVKQDIJWZZSkBgQ8kbOjaq40YxtvNMEWMnFeMmWhDMwNi0qpBAOhBElyZmNTbLjeyIbTQmONGITjo6XjBFIQ2TSdCVM5DIyjWNDHedeBskwEQum5rkE9+k2A1mKPirajPYYPIkcNNclnjDodJKwQ0Lba+SupXjU+HMM+l4DvKDU78SNLJEAy8qHA0qGAA6nlTNcsw+Gp9NMDzjTBjU+GTlL0LEYjQxBeYA+PinaZQZr0l4e9PLa5MjcGUjeBtPrFbSuR8qSvtEGGIUyWcxY8VrBVjapSSG3rD8T4N+mbTos20nKoDJFD5A0QjgCKhaKSmZNSxSKcsbk2UrBjmZp4y4YTMnovMcIf3WEHUBBHLdHhwE7HthJ15ocUCms97mYCMlBDAB9jCAH93QkEVryL49BBD06HQwzAjMy8IZntkRS4s8nFBkuiSDMAyOm4v4utUTG7jlp+PYSIeM96j0g5f0uCcZPEx89hgAvKOebJF7vToBlVAOKBL1GVDU5DsrJC3QZJt0mSFE8EZtxtHCdm+d7AkU5LiQrE054s7nueKdmLJJ4iQMEWpJiGezVE8Qu9n1zOF2zK5zzaerkiyF245K9c4eQvkhFaTaJTgduYNE7kzydAfnQgAF1KkNoV55dacec3F7GMrwIUoRjvODm0ND2HEp0EvLI7PV3ZscosW8IlHOBr5P1FOXxi7kszWJvIJEu0D6KcIBm14rmYBIMxC8PZ70wZLhOaY-ziet89OTJK3KvFPJn7PObAtjmlzP5aHTfINOxTXTkYAC7WegvQgIT0ubs9UbHMtlajCFg9JcqQsSTkLYJlCyoOxMHDDh-k2AOIOaPzmnEP5uIiUVEn9mQoNC7CliT3OAV+9RQWEKANEzAIABqRnDSIbkANis4ghIniOZ7jhXu0vAyRXLvmbMmKQ-VVGulu4h9uGdk4TgQ1GoBxtqeokev-N3mjtxpWbDqlNIjYJT0ZUhHqYDD3GeDvAIstOoHNumSziJzYwQdAqLa8ztx70k6Ti3cASKvxIyaRdJJM7HcN+wRJsBotdyYSASh-XHgGNhqcCA5080xahQyGTxzIgoLWv4qdqQUL5y2P2ZBLkFSL3FIAbGuxzv7cyqZyOXAdEjLaet9xhYSCcYrcVLi2ZcLPKarUXh4hipAtBJU-0LnHDcmvMS6aJT7FVK0Ffw3WQ21QGn49pmI1ZXSKOJltqpngkWN4K9rpKyFkS2ZZnKEICDaFSOIpa0jPmNk6ZXrYGBUrEoRLqlcyq6mS2szJgrA8jb+nEoIZzS6WEM+GmwP8BlciRQK-ZSDkOUbDXiZMB0CVJUlpNClB-HRcEg8EkNxwf4RNmiu7nICZcWws7LsLbZ19qZFy-Qe4M+mvgAVb5TJb-x1nNSgq-WPlsNhYCNLzldLUtmLVaXnoT0yC37A8rYVNSqcIKhFqYBYB0B3GbbdPu2PFY4iCBkq3HIQLuXVsuVCqoYZ8hRFoiMRG4ppfS2+W6L2VQ1PUVMoyUmq4sxM+lAkAwAGQwAaABMBFSZVDKn+tq4JHah2oxVDVsq1BdSrumIzNWAcZ6dapew6Uxlng9zjDJWI2AXVehEYdZX2nzto5Aai5QyIfxIgNlXrAysGK+CsK8UGagmXysjEWcrFVq0VSWx3E-KE5+4swBA2l6Igq1BYGteitkU6A5JzbNGc2s7aaTepxrTZW2kTZfA5V1a7pWq02Hc18qhAdVdzNfmiC+ZQa9TILMUIGVIJPGeLiMn7XUrRpci1cZx3AVXj-uN4lIDPHJlxLvAxCE+dM1ZVQiLmd7T2OGoGTHrkYp6wBYOvLwPT5JPqK7myTU6PjNFSHNeRam0nClrKt9QzABooXZKZcmCj9j0HnovqhJtiw4VCL5g+zHyZjXtatBQ0cK0NspEUKZO2LkSyOdVaDZRzC4ul21rnH6JCiXJC4SeiScjTIppWzzKUhsgHtCqPlbpNV+-ehe+oSJM9XO44PFnqJ4yMSF1wK33peqR4uyfFWA8TTHPp6jyuI3sxxR4G2XS0GNGhXjVkqAV7yTROcs0QMqEWTEm5L-Utfor8CQSiEIY-9d0vdG7lPRMKpfoSvfnErj0Yi5hdL3c3IbulF4zhIQEIiNDrVg9ODEtMSpRIf1TmIXK4pPWRanZ2ACAN8lT4DKcNj-cGROsBiN8TWUoyTrzFRARaVNzCNAHTghVQq4tY66DAiqgFIq3wMqhjhls821rFVnyN1aTM9V+rrVsNaYiGs6HeAfWYWr4Epr7VPLzqO0h6XiHKBZc9huC+ngwrmYyayVV4MJdiiITzr5ttW0TCRLqBzxl0QYOku8stFwKWlaHTtRUr-mZaTt2sFus0BPbJhBw6IVFoVroW6b4Fei2TYblS2ZSetPGrzdisYjAo6ALwddU+qJz2aeKJWzHLhORWzruNymgdfxqVrzLbqjWhoI0L+3NDupkFZza521DfTpe6WmrdjvPVDrjl1mKwEAkGQRVtNBaulglsRWu88EYW2nVGqiWfJel7VMBPGpa3uZAl-kYJULL0EVq5tZGhbfu2iXZDg6HU4nc8LpGtqkURcr1hilB0GkPNEO17bjuSDKrzA62uFSW0CwkVWNZK6EQprnX87ANmVTFZ8mBqXVogUodQbcCwDAo0AwMimYJLu4QiUdXEeDVpiaKLkjFXwcHVjupVKDeWoVfliNjI6JStVuAwjRKutkI0TcnsStU7tQ0Yq61WNIcbm0bWB609Em3AaY3B56qHy+TaXrDJe3Y7o1OgJBtlxnD6ATISi+nEmQwZPrdlAW3Aa0I1KEbHFL3Yhb9nTpHaFdfW01UELngbBdwIKDAJKHR7q6bJI8+BbP37oNJJ9AyIXGN2b3x6vuMeMUKztr6UTy68C8edK3YAzqXFBeijZZoDolQYAeA6xSKNsVBbVEgWcfTnsb1P6+NSgtjnQDOyf6NugnUPSA0IUP7UV73czTys4UgBBtIoQdAWR9WozqmAcDfenqf7QGFMdeuuNGH12UYViXgRXXFm4UjDrQpAaJqQEUZZYbeviwBgmopWEMd9uTWXRJMx0FgKDxuyoEuo1aXRqNa6iKp1OZV0tKpi0og5Rip1LEUQhuvFPwbp0IyqF+s3JNEEFB04EA-e0TQjlwNgyxV7rBAsmqFkDS01b5FQyftY6M67c+gMNv8kIDXBp4tmuJeFEMOSGYiXO9ra71Z5bteDq0aw87tb3fwnZDJHIQ6FvEPqsDgexHYxtslSaLUt+-RT5n32klyD3SnvnIwUa0o11M8QcMk3lzMHC2MtBI1UUb4ELRJefdI96Pe7BHC9QGr5JXlDL2gHE4G9rthvzX5chKBBhwNqLom1GDSM+9jN0tDmx42u0QVrhBpW6WSC85RqiT-q4h-6v1026PvnvqNZb5FgzXhBuBfmeGuKAOsCQ9sI1bt5doxgQyAG4VDgRwsQO2gcc+WxEd1qiAzcXJ+ikGZepGi49joT0ISPdzDcvrMemkEqMJoPJI17PAkN6lih2wzA0ef1NHCO52xQL9vzWPG45Py2Qx4HkNXTYT3S9OMQEzgLych+QC7D9qg2vq2YxQ4Epwbv3lq9RaII-cjDhPAHT9TsxRaEIZLhCHEdoEmVAv0MM1ujU-eBS3Lv1qJvKaIc48yYs1NHrgdXFriQXnjTwujV+xRFSeE6kqou44D4zTs2OXGti-wO2PI2OjLzcNdTZjXEKnV37bU+LKw90tN4LKCdJstHm20r1eHO2kui8H1Mm2EChj6YUzaPSlNIGDlxenli3TQFGmSovCBwTCoY2W7wK5puKq-1yYcZfTLlDQoGafqUadAwuxdCONhAwBCArhgRdzIkMc6Yiz-RstLv3XFYPjKIWPXwcoPGjBCSqCxWqnzbGA1FohA40u01xa7gkzTRKm0g+M8ZAj3xmwznW2P9EYtJRwsUMlG0EGYuOLOovttlW4nLjw6ldRoBeBAmWDHh-NT2akIEHkl6sh0Y3o2PpnulHM0OovHh38nIqR0+FR6bVzXKSG-gULUsXTqSnGzvZe07dUKnLLsDc58XRVifPxVZD6U1M4iEZOJIMzXTYM-1uzFoCRQJa3NTSw226CXeVyxKiWo+P+m+MsFwNqzUF3MIacdOccGwGtLcyoGcZrSs8a4hA6hZRyVM1xrXOqHXdzCSILE2XTxN9Awq80QcaYHHTAdAYy9KmadVMnvzJLPHf-EdOKSNAi8LAH0FvP4r-Y1W4C3fnemuFvT7558nnrfJIhM1ZiwQm0CH7iG1LNF9zAubMOfUkykF2bYZgMuXHOL9KBAMkAMj3UmDbO5ENaq9OJbbdn1YGB8bTTnHHLLe4i7JLsN5iw2CAOKe4eCvxbwTUugMTM1TOKGHLkl78qgY9V9gxQmBsy4rLwPgy6LauJFbZbl3pWZli27vjyJyOWE8jd43CBqGmOdHU9Gxik5MUqOiKYR1VeqSsVCvjn2aLR7ILaBKJKBHh9lhY6nlg3oJP1+PYbmY3rOrR+rzupQeMdaMRzqNo+TTVg2azs6ejgDJY76EtP6LO1zF7y+92WuNGcdivFuqUGIwZBchpJ8a+zrRMiKDBuEu1EFZj0VWfjrJ7Y5AvuOonryjmn5WjrgPS86zP1ga0Zbf0KBEg7JwRJsLKiVl+Tu1pHcQaSWfTPSw586xoUuvwnrrCqYy3DaiAI2BEbUlGypbbjmWHzLapJeBdEtpqQreJv40KE92A30b+lRK-polFfZZ1i1wnpDq9XQAFT41wZa9cOvwYJR+Y-m1DZWtfduFnE2ejaEwAJAjg9x0s69eKszFcJe+tNaOfxssnIma16Jv0EYDFA8VcxrdAtBemHGtFINpFIPUcUpWK1Ixw29KcJtscVtGQX7ZrbBPHGfZwQVK47outC2djNiWHcpatuJkabb83TX0bH1vHZsvV6C3indtBmX9P5NTSEP9RcmLsdQRQHyZUve09rejb2Sh1wnvGFrctq60oO4VGRToNgw8kkw1oCIuJ1fCAJTejsNQQ7Q+rRW9bmYjU3j-h6Pczb1M2IDY7d7axwxRAFX6+lHOxXMyaLWzvZkDb66HfXMPTIgCAMgPJeyxlF4j7Vgrn0dmvM8PaYlkO3ja2PZ2pzsWwC-OeGrgXuD60je79ciY5ns2T1bsxixGVU1mWhI7tevavuVWld5mOw+fjbZEJ2dB5mbCrJJUvn91FhiSW7YyvmYHpJRKAJRfcMLRXTZZ8CuXaxmG0oTtVPq90uF3tA+wl20UPmcLP2hizMKhkwmt-tWzzpngXC7jdHrp3MzEs55d+gQmzxSgTjWJajd7zQOMWNenCYOZHsfnL7nDrIzVb74KMh+UQDCjllisiPzrFl57AmZf6fSr4Hx8La-ehtHKcx1mFTPoEoDqOqbveXBzA-0RwPj0CD1jPfvxZfGuHcFnh1VY2FbCroqForAtH9XXhhl2twZHutYyNJUzPGNx4Zakum6HEKBVywfc5tBB4yBGtHVHqWK94lDHhGJ8iIUBQ4GMrlmc3ZTz2lm7HUPN4Z9LDVpqUHc+nIgKqT0igjkLAWxuvpesYsYuXOeTY4vvb62a7BN+nZUF-Pm8EggoBMMI5Us4H9zk5Ac4y3J2vmGMdl6J3U6JnQB6U6BwQskCsfd3fo395KadKfsb1pe6dbJ0tdQfpCCTBkVIG1P4SaDI6Dxg-iE8G749TAON8444DGMqDZ6ptu6xbaafjXbbaJh2-2axu86FDQD0eh8-HvE34bvAEUHxe5lC5-V5TvsxcWwtgujKRCP9Ykihdv3AirxHhBHaWRaD7+69vu14z9FvZrZPViGxC74y4vjHwbZbSrfQEa3Ob1RKo4ZoAcyPTnMVa+8ASziRGrOMRpJ5NbfUakVj+PJEBk6MqKbDMDL+W5E33klQeThdg+18FLP7WqOjI467JsvQfHe87zz57JUtILzFOhaPQ8XcH2mmkOOjqEQ0jQ7I1HVdLkZAq9rtfc2O5kL4IZChDWhftpdkPRK8QXEPQpLr5GG64Jt12H5M3IfqEJupVoLJwJy8G1ZtdMb4FD+3fdy5IdfGI3RtpsZGeT6-xjYJZQtMw0TcsHligp0LiE5+i0cDaEk7F3ilzce2lBwQyBdEZs4GRy3pRtNAG-p7dDGRuEo5MOfldZa5TwKVINPFIK2JsA1mAAAJJMU+3kw4nIKPsvh03X8mV6JUbcFhm3Gdpo-VsMjWAoVclhWSm6K2c6HHUu+ZwFexOiUjXKz3spEHyAuW3LjB-e9gagvxai1M413qeaWI8YBbe77h6+nCtTANzPNJQC4boenvsDPGTdSTuK2djXeHGwBw+7xelNXiNoRIA0BvNf3Bl5TnVS-wDHgNIno7pyyoI738Ju90TBlBPi7ODKgnugk6XMKccR67Uvp5rKnd3e5Po8i+sBAZHaAfEP6Iqtd0ongVg9HFzgVM0QnQ+Mu3dDTobAKy-tiPxW9EuYTe4TSIbWRpgDh-S94-MJsjijuq3rAauzwmrHRm7oyvPc2KtFnVggbzdOOVadTGhYDx46aPA0dycAaJtiApnQwyXtN-B9zZQAin9xKmau+9zc+EXfjGh-GuVB89q0wA9Az93s9wEEPfD50+3T9JzfdKQ2+Ys97bbsc+HK6Q9r1iYFTO9vyPYV3h6Jmln1KLtsHvz1i9G3a3nFJrENyZtkf6fH3B7abjcbtCxALsJMOEIfKpsogCP4j7WxqdYykfbZrn-l8iR-gSw22KIQFxi3GoGNnnHatY0ZTRA7vZW8jmRrVf5FaBPgzVqzyWc0egnxWG3yp4OYfbU7zzkLvE7dfuuYPtnSbvcwmrtcu0AxbaXGQaSA92mGtx7wndU0CCpf8D5VCWpNHxYz6kyBnsaeOxF2dVCISQdoBFVnvxar3F4MrStM9JbyyDgRhHyA4nM33otd9vz4fofuMsAxpbXq20RJ8Yedpdh6QRFSgffvhqn0xkOVaw5M+BdNXi9QK6W9dwVv33qbyR69Mv3Q8-PxV-m7twk32Tauib2p-pvYWAD4L7j8DHNwtu3RBLkW8VBJpfBkXk32NmIqiQo0FoWv2X+69Y7MvVt41uezpq0VbaflyYktd5RRDw+df+7wm1FJOyOc-H9Ufzyb8d73bMvGHM88T598geXdIZoXUOPknLoaHRZonYV5-v4bfvg59gwz+HQ2+CboRqJlxaafFYz3ofjPYXM+kiw3Nn+fP3xsL8hs7M+NKD4wFT-YGEPGusVZcqYz+XnHIy+qXn5j-ueiLgv7M4n9zN2gvLqntLwQarOsYazaaxa3X49uF-nLl2tyxfmqwavOfp0qGcnZm2kbl-vvhvyBpHWQObPiHsVRI9x56OHv6x+XUf9j8gG7D+X8HzbYStc+Ja+-+AWG9liP-h-hfoe6yWXbtkAzg7QF3ZJuk0Mb6jamluBawUpBnnre+iPlMCHu-5i1wCIoAUpYQBLBsJATWWjhpbTEWlsQJHOXhKbRIBPXt47RSvjvwgYBiluAFmWjHm6ytebHsthu8KVE96kI--oRaDOyguj7GggCDR7047AKN7d295he4tqP7iV4sBvaGcS56aINH7IB9wGs5DaOViJznYiTuD6IgZTq9TMBO1NchmMCgaT56EQhiuqpAnJu+7FOoxOwAX+nft4bBe5SJUgVijSAY7QBfPkP7cBahpUBXmDBmqp+qV3uIHumVUjD61mg-uc6pwCWCrT46oPiJpU2aaOn7rUsznBjBAegdI6yurgTL7uBeHDwF5eCPtEwfeu5kLgd+EGB059GcRDiyw0qZhKahBRgU+4xMtAvoBeA1Gpa47OveEUGvQgllIbwKO2vuo-QZ1oz6ZB8DIX6-wcAKQCkwuSL-CNBUZpYEUYK1PgGa4JhombgWV0GmrW+AwQFSeBRNuJjMUlipAAsk09qMSm02gar7TEdorkzOA7Dvt5cBeHEoKoGGziIGfeQuCr5peoFjrpheGLp+LVB1Xl45u6CEkZBGygPBuoBeAQajgrUYtEQL0y7waLLw+VrL75RufXsOADe9DqjYnO4vjpTgh+IiQG9iE1jL4whT-h67LaDYDOAig8btZjduO1iObfekgW2qJUQdviwP+uIcP6tu4Rg0DLe3MsIzkuYqrd5dW50vq6L82-nz4Mh0Xl9zA0fwcJpFUTDvYHSu-UjpaiUQuIf6Ch1wV9y9KyjsKARUaaE754O0GNIaJasht4Dg2MjvKFhBAmq8zXAmgMTTYGtjjM5UhqsuiE1SumB8afmefgqHy8X3FlZkyBkK-hB+y1DxgahRXq15IqSaKmbp01vs6FmUhft4FeW5fqTqnS0gbjh58LgcT6hhxTN8GIWp+K-5NeH-rv5-uX1vSFGhY-p4qlQlHlHafeMJupbMQiQQ-jJB50nUQye6QUdQvceYZUBr+1Gm+4Iu7hl+5lhUhK166hgVnN71hSYSzSF+nnvF5VobYXeaIgbQUYYls6XiV5hONNKh7rGhodC4lQM4CQSigLALgApeTwVD5Zh1YakE7Kv-pHANhy4TG5rh9OJHLcyaaJaH7OSQZ9J62OngtDQhdptJbWY6IETDKAI2p2HzQ9gclSZekIUNJL+A4QMLx+zCCYGasSIFg7jhkPnSLAugMKcFes5Fn04ChigZUCoG3ujxLGgfgZOFumqOCyKQyhtN-4kOuYTUEl6BYSj77BMwY8EJq-Moyx3hVYjI6JhjYboAv+HAJY5eW14TMI4+80CR4LhJDoxEkR0lHUHLowQCS5+eaIEcEV+kFLaGeCdIJ751hnAUBGUCYHuhCKeyemYD8I7dhqgKWYAcWEsGzBLHZbq24trY0m+iqUIPh2If2EoRIAOarSezQUm62EwIfuhEeUIgxb7qZVg7rERbFiBHhBQoAiyYBGPoBa9213tuI-h1llp5ZuolGminOx4V5EIWSPm1RGQNnMiYbieAcFG6CI+pt5hR-mNJ58h0UYpF-8ykeXh2GKFiujnQdwCDJAh-2hhbWhFqInZ-KHXl7S94-EV8GgOJFtG5K2RsOQRUR6FhS4D2Lkbza8Robs1Hyehngo58iLDPkZaoF2HZF6RKIWK5XsjPLhK8hZck6HdKiJuoCvu9xu06xysEd5iYmNRrOohhY7sUC2MLXJO7RAVaOZ6+eCOvyEchCYq76O2ldjS48uq0ZcYXifPP9xj8qNvEEzCktkmb4iq9tWL8hOIQt59MH0bCAtcJIU9RsGf0eBaG4wdnlGgx5nEJotcTNPPBYan7jDE6U4Fk0QhByEZcb4mdJAZDogKmOdh9Azfs4at+dDgrJYxHBlX7-uWIYBG5eBIYpYgozWnMHOgrgJKHSRQsktIOhr0cz41KlziAhveuQtDFfhS4BL6DmmIQdQCxI0adowupNnC6T2hsBRGyY24Zrq0yvfv5j9oDoRZEKRYdoS6CEvgYyqohhDPBEuaMsfTSo0csXL4XUL4Ue6QquHrpGFsIkBLEIKUka7yz8vVpcH5RvKnFFTAzYa5ZeqrDBdjs+LXo-bJad7rIKHhb5n7ENio-k2FCRLYSHGmy2Br6E6Bkcd6Ya+mLsDGWRAkT8GxeXngl7Sgo-JbafeP0boIzhZYnOHLYGYOw5PhFHia7Gw5KFAAkmLsYWISRO4XMJ0+0cfcryRvcDFHyxUwJg7ncxhCqjKKMstMG9UXcXSKZ6xak-YRRnXoz7xxrMimEj4ygWgasEhvtgazxYqnhGEO50hODsOK8UxEf23ihFQax+8bP4BirzhWpLhLUa6qbx2VrEbuGlcUVZBB3ps9GyutsVdaF+boZ6qI2esJ3Zs6EcTGGu838aG6Nxj8UGSs+0VvkGux78fCq6B3pjt4HhTMQXFtR03B1Etxw3oRD3BekUDbisHvpt5lK+4dLSOh+MYLHDCY0bkameBRgkDfggiP5HJA2AYgnsuVYWLS4SfgAY6-xkbqybjuDDFO5VoWgIoAFI10ciGUhsbNrFtKMocvF8Jebk2YnQRHA14dxJTttH08JSsJzvCuTM4Fw+Cibr7v2ifhQ4MkohqAnuxsPqMo0hkCTfIPxAvuvHgeIGgTRAo9ODHriGEoWiH9SOcdu4GJsIX9Y32mgBdHixHMRvBSx50mwF6izXlQnDxVms2bbBaqBoEbqCaqi7eYWUctgxUkTnnEGxlxoe5B0-YMkyb+V8eWagWSWpl4NRJtFoG+JsftkEPSyYKiS-I5iSEkvk3MYbRoJ0tOJFVJjIV9y24RHEChi6TSeKrw0uroxZ9xKCojFvR+MMW4OGXoTNIZx4rN37FqMieeiM2ZcvrGDxq8QiQAAurIBAAA">View spec with the full data instead of the URL in the Vega Editor</a></p>
<aside class="notes">
<p>Now that we know how Altair creates charts, we can also understand why there is an issue with large datasets.</p>
<p>You can see the JSON chart spec printed in this slide again. Note that the data here is just a string value pointing to a URL because we used <code>data.cars.url</code> to create the chart.</p>
<p>If we had used a pandas dataframe (e.g.&nbsp;<code>data.cars()</code>) to create the chart (instead of a URL) <strong>all</strong> the data would be included in the chart specification.</p>
<p>This means that there would be almost 4500 lines of code in the JSON spec! Vega-Lite can handle this large files without issues, but is not enough room to show that in this slide. If you want to see how it you can click the link under the code in this slide.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="including-large-data-sets-in-chart" class="slide level2">
<h2>Including large data sets in chart</h2>
<p>Warning when plotting &gt; 5000 rows:</p>
<pre class="text"><code>MaxRowsError: The number of rows in your dataset is greater than the maximum
              allowed (5000). For information on how to plot larger datasets
              in Altair, see the documentation.</code></pre>
<p>Disable the warning:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a>alt.data_transformers.disable_max_rows()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><a href="https://altair-viz.github.io/user_guide/faq.html#maxrowserror-how-can-i-plot-large-datasets">More details about how to work with large datasets can be found in the docs</a></p>
<aside class="notes">
<p>Including all the data is great for reproducibility and it works well with small to medium sized data. However, with large datasets the size of each chart would become really big, and with many charts in the same notebook the overall file size would be huge.</p>
<p>To avoid this happening by mistake Altair shows a warning when you try to plot a dataset with more than 5000 rows. If you are sure you want to plot a dataframe with more rows than that, you can disable the warning with the line of code on the top of this slide.</p>
<p>However, as discussed in the last slide, your charts would still be very big because the data would be included in the spec for the chart. If you would like to avoid creating big plots, you can use a URL as we did in the first slide and in module three.</p>
<p>An URL is not always an option, and it is not convenient if you need to do some data wrangling with pandas first.</p>
<p>In the next slide we will discuss another way to manage this challenge.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="working-with-large-datasets-without-including-all-the-data-in-the-chart" class="slide level2">
<h2>Working with large datasets without including all the data in the chart</h2>
<p>Use the data server:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a>alt.data_transformers.enable(<span class="st">'vegafusion'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output in the spec:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a><span class="er">"data":</span> <span class="fu">{</span></span>
<span id="cb11-2"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">"url"</span><span class="fu">:</span> <span class="st">"http://localhost:21319/4d45d69bbd706eda330e96e79ad4bf46.json"</span></span>
<span id="cb11-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span><span class="er">,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Optionally you could use the mimtype renderer with the data transformer to show plots without Python running:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a aria-hidden="true" tabindex="-1"></a>alt.renderers.enable(<span class="st">'mimetype'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Here, we’re using alt.data_transformers.enable(‘vegafusion’), which differs from what’s shown in the video. That’s because we’re working with the newer Altair version 5, which no longer supports ‘data_server’. In the video, however, Altair version 4 was used.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="lets-apply-what-we-learned" class="title-slide slide level1 center">
<h1>Let’s apply what we learned</h1>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: false,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: true,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: '100%',

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>