<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"url": "https://vega.github.io/vega-datasets/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": "geoshape", "encoding": {"color": {"type": "quantitative", "field": "number_of_asthma_cases", "title": "Asthma cases"}, "opacity": {"condition": {"value": 1, "selection": "selector010"}, "value": 0.1}, "tooltip": [{"type": "nominal", "field": "state"}, {"type": "quantitative", "field": "number_of_asthma_cases", "title": "Asthma cases"}]}, "height": 150, "projection": {"type": "albersUsa"}, "selection": {"selector010": {"type": "single", "fields": ["state"], "on": "mouseover"}}, "transform": [{"lookup": "id", "from": {"data": {"name": "data-c473329fd3dcf22cbb830c13d247403c"}, "key": "id", "fields": ["number_of_asthma_cases", "state"]}}], "width": 300, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-c473329fd3dcf22cbb830c13d247403c": [{"state": "Alabama", "id": 1, "population": 4863300, "latitude": 32.7794, "longitude": -86.8287, "number_of_asthma_cases": 394634, "asthma_cases_per_capita": 0.0811453128534123}, {"state": "Alaska", "id": 2, "population": 741894, "latitude": 64.0685, "longitude": -152.2782, "number_of_asthma_cases": 50685, "asthma_cases_per_capita": 0.06831838510622812}, {"state": "Arizona", "id": 4, "population": 6931071, "latitude": 34.2744, "longitude": -111.6602, "number_of_asthma_cases": 545104, "asthma_cases_per_capita": 0.07864643141009521}, {"state": "Arkansas", "id": 5, "population": 2988248, "latitude": 34.8938, "longitude": -92.4426, "number_of_asthma_cases": 225853, "asthma_cases_per_capita": 0.0755804069809467}, {"state": "California", "id": 6, "population": 39250017, "latitude": 37.1841, "longitude": -119.4696, "number_of_asthma_cases": 2607598, "asthma_cases_per_capita": 0.06643558905974487}, {"state": "Colorado", "id": 8, "population": 5540545, "latitude": 38.9972, "longitude": -105.5478, "number_of_asthma_cases": 399357, "asthma_cases_per_capita": 0.07207901027786978}, {"state": "Connecticut", "id": 9, "population": 3576452, "latitude": 41.6219, "longitude": -72.7273, "number_of_asthma_cases": 290278, "asthma_cases_per_capita": 0.0811636784164865}, {"state": "Delaware", "id": 10, "population": 952065, "latitude": 38.9896, "longitude": -75.505, "number_of_asthma_cases": 77035, "asthma_cases_per_capita": 0.08091359308450578}, {"state": "District of Columbia", "id": 11, "population": 681170, "latitude": 38.9101, "longitude": -77.0147, "number_of_asthma_cases": 66441, "asthma_cases_per_capita": 0.0975395275775504}, {"state": "Florida", "id": 12, "population": 20612439, "latitude": 28.6305, "longitude": -82.4497, "number_of_asthma_cases": 1495632, "asthma_cases_per_capita": 0.07255968107413198}, {"state": "Georgia", "id": 13, "population": 10310371, "latitude": 32.6415, "longitude": -83.4426, "number_of_asthma_cases": 714569, "asthma_cases_per_capita": 0.06930584748114302}, {"state": "Hawaii", "id": 15, "population": 1428557, "latitude": 20.2927, "longitude": -156.3737, "number_of_asthma_cases": 104368, "asthma_cases_per_capita": 0.07305833788921268}, {"state": "Idaho", "id": 16, "population": 1683140, "latitude": 44.3509, "longitude": -114.613, "number_of_asthma_cases": 111954, "asthma_cases_per_capita": 0.06651496607531163}, {"state": "Illinois", "id": 17, "population": 12801539, "latitude": 40.0417, "longitude": -89.1965, "number_of_asthma_cases": 860007, "asthma_cases_per_capita": 0.06717996953335063}, {"state": "Indiana", "id": 18, "population": 6633053, "latitude": 39.8942, "longitude": -86.2816, "number_of_asthma_cases": 509651, "asthma_cases_per_capita": 0.07683505619508844}, {"state": "Iowa", "id": 19, "population": 3134693, "latitude": 42.0751, "longitude": -93.49600000000001, "number_of_asthma_cases": 190960, "asthma_cases_per_capita": 0.06091824622060278}, {"state": "Kansas", "id": 20, "population": 2907289, "latitude": 38.4937, "longitude": -98.3804, "number_of_asthma_cases": 214698, "asthma_cases_per_capita": 0.07384817952394826}, {"state": "Kentucky", "id": 21, "population": 4436974, "latitude": 37.5347, "longitude": -85.3021, "number_of_asthma_cases": 395345, "asthma_cases_per_capita": 0.08910239275686538}, {"state": "Louisiana", "id": 22, "population": 4681666, "latitude": 31.0689, "longitude": -91.9968, "number_of_asthma_cases": 316423, "asthma_cases_per_capita": 0.06758769207371905}, {"state": "Maine", "id": 23, "population": 1331479, "latitude": 45.3695, "longitude": -69.2428, "number_of_asthma_cases": 132126, "asthma_cases_per_capita": 0.09923250760995855}, {"state": "Maryland", "id": 24, "population": 6016447, "latitude": 39.055, "longitude": -76.7909, "number_of_asthma_cases": 439909, "asthma_cases_per_capita": 0.07311773875843999}, {"state": "Massachusetts", "id": 25, "population": 6811779, "latitude": 42.2596, "longitude": -71.8083, "number_of_asthma_cases": 558435, "asthma_cases_per_capita": 0.08198078651700239}, {"state": "Michigan", "id": 26, "population": 9928300, "latitude": 44.3467, "longitude": -85.4102, "number_of_asthma_cases": 872519, "asthma_cases_per_capita": 0.08788201404067161}, {"state": "Minnesota", "id": 27, "population": 5519952, "latitude": 46.2807, "longitude": -94.3053, "number_of_asthma_cases": 357232, "asthma_cases_per_capita": 0.064716504781201}, {"state": "Mississippi", "id": 28, "population": 2988726, "latitude": 32.7364, "longitude": -89.6678, "number_of_asthma_cases": 218223, "asthma_cases_per_capita": 0.07301539184254428}, {"state": "Missouri", "id": 29, "population": 6093000, "latitude": 38.3566, "longitude": -92.458, "number_of_asthma_cases": 444334, "asthma_cases_per_capita": 0.07292532414245856}, {"state": "Montana", "id": 30, "population": 1042520, "latitude": 47.0527, "longitude": -109.6333, "number_of_asthma_cases": 82660, "asthma_cases_per_capita": 0.07928864674059011}, {"state": "Nebraska", "id": 31, "population": 1907116, "latitude": 41.5378, "longitude": -99.7951, "number_of_asthma_cases": 128793, "asthma_cases_per_capita": 0.06753286113692088}, {"state": "Nevada", "id": 32, "population": 2940058, "latitude": 39.3289, "longitude": -116.6312, "number_of_asthma_cases": 186787, "asthma_cases_per_capita": 0.06353173985003017}, {"state": "New Hampshire", "id": 33, "population": 1334795, "latitude": 43.6805, "longitude": -71.5811, "number_of_asthma_cases": 128307, "asthma_cases_per_capita": 0.09612487310785552}, {"state": "New Jersey", "id": 34, "population": 8944469, "latitude": 40.1907, "longitude": -74.6728, "number_of_asthma_cases": 593242, "asthma_cases_per_capita": 0.06632501046177253}, {"state": "New Mexico", "id": 35, "population": 2081015, "latitude": 34.4071, "longitude": -106.1126, "number_of_asthma_cases": 157177, "asthma_cases_per_capita": 0.07552900868086006}, {"state": "New York", "id": 36, "population": 19745289, "latitude": 42.9538, "longitude": -75.5268, "number_of_asthma_cases": 1578011, "asthma_cases_per_capita": 0.07991835419577804}, {"state": "North Carolina", "id": 37, "population": 10146788, "latitude": 35.5557, "longitude": -79.3877, "number_of_asthma_cases": 757790, "asthma_cases_per_capita": 0.07468274689487944}, {"state": "North Dakota", "id": 38, "population": 757952, "latitude": 47.4501, "longitude": -100.4659, "number_of_asthma_cases": 46996, "asthma_cases_per_capita": 0.0620039263700076}, {"state": "Ohio", "id": 39, "population": 11614373, "latitude": 40.2862, "longitude": -82.7937, "number_of_asthma_cases": 854186, "asthma_cases_per_capita": 0.0735455973387457}, {"state": "Oklahoma", "id": 40, "population": 3923561, "latitude": 35.5889, "longitude": -97.4943, "number_of_asthma_cases": 307581, "asthma_cases_per_capita": 0.07839332687831284}, {"state": "Oregon", "id": 41, "population": 4093465, "latitude": 43.9336, "longitude": -120.5583, "number_of_asthma_cases": 383340, "asthma_cases_per_capita": 0.09364682487819}, {"state": "Pennsylvania", "id": 42, "population": 12784227, "latitude": 40.8781, "longitude": -77.7996, "number_of_asthma_cases": 1012588, "asthma_cases_per_capita": 0.07920604038085369}, {"state": "Rhode Island", "id": 44, "population": 1056426, "latitude": 41.6762, "longitude": -71.5562, "number_of_asthma_cases": 101251, "asthma_cases_per_capita": 0.09584296486455275}, {"state": "South Carolina", "id": 45, "population": 4961119, "latitude": 33.9169, "longitude": -80.8964, "number_of_asthma_cases": 360353, "asthma_cases_per_capita": 0.07263542761219798}, {"state": "South Dakota", "id": 46, "population": 865454, "latitude": 44.4443, "longitude": -100.2263, "number_of_asthma_cases": 51652, "asthma_cases_per_capita": 0.05968197038779646}, {"state": "Tennessee", "id": 47, "population": 6651194, "latitude": 35.85800000000001, "longitude": -86.3505, "number_of_asthma_cases": 513084, "asthma_cases_per_capita": 0.07714163802769848}, {"state": "Texas", "id": 48, "population": 27862596, "latitude": 31.4757, "longitude": -99.3312, "number_of_asthma_cases": 1572815, "asthma_cases_per_capita": 0.056448975536952835}, {"state": "Utah", "id": 49, "population": 3051217, "latitude": 39.3055, "longitude": -111.6703, "number_of_asthma_cases": 206360, "asthma_cases_per_capita": 0.06763203010470904}, {"state": "Vermont", "id": 50, "population": 624594, "latitude": 44.0687, "longitude": -72.6658, "number_of_asthma_cases": 60216, "asthma_cases_per_capita": 0.09640822678411896}, {"state": "Virginia", "id": 51, "population": 8411808, "latitude": 37.5215, "longitude": -78.8537, "number_of_asthma_cases": 563510, "asthma_cases_per_capita": 0.06699035451118238}, {"state": "Washington", "id": 53, "population": 7288000, "latitude": 47.3826, "longitude": -120.4472, "number_of_asthma_cases": 558951, "asthma_cases_per_capita": 0.07669470362239297}, {"state": "West Virginia", "id": 54, "population": 1831102, "latitude": 38.6409, "longitude": -80.6227, "number_of_asthma_cases": 175368, "asthma_cases_per_capita": 0.09577183575792064}, {"state": "Wisconsin", "id": 55, "population": 5778708, "latitude": 44.6243, "longitude": -89.9941, "number_of_asthma_cases": 408318, "asthma_cases_per_capita": 0.07065904697036085}, {"state": "Wyoming", "id": 56, "population": 585501, "latitude": 42.9957, "longitude": -107.5512, "number_of_asthma_cases": 38099, "asthma_cases_per_capita": 0.06507076845300008}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>